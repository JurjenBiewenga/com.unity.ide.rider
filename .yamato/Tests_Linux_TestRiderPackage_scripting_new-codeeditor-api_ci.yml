name: Test Linux in TestRiderPackage for scripting_new-codeeditor-api CI
agent:
  type: Unity::VM
  image: cds-ops/ubuntu-18.04-agent:latest
  flavor: m1.large
commands:
- git clone git@github.cds.internal.unity3d.com:henrikp/yamtato-runtime-utils.git
- npm config set prefix '~/npm-global'
- npm install git+ssh://git@gitlab.cds.internal.unity3d.com:upm-packages/project-templates/upm-template-utils.git#henrik-playground -g --no-progress
- python -u yamtato-runtime-utils/upm_ci_wrapper.py scripting/new-codeeditor-api project test --extra-unity-components windows --extra-unity-components macos --extra-unity-components linux --project-path TestRiderPackage
artifacts:
  UTR_Output.zip:
    paths:
    - '**/automation/**'
variables: {}
parameters: {}
dependencies: []
